@{
    ViewBag.Title = "公司信息管理";
    Layout = "~/Areas/Admin/Views/Shared/_right.cshtml";
}
<script src="~/Scripts/Back/plugins/validate/jquery.validate.js"></script>
<script src='/Scripts/Back/plugins/validate/jquery.validate.unobtrusive.js' type='text/javascript'></script>
@section backScripts
{


    <script type="text/javascript">
        var configList = @(!string.IsNullOrEmpty(ViewBag.ConfigList) ? Html.Raw(ViewBag.ConfigList) : "{}");
        $(document).ready(function () {

            GetConfigList();
            // init()
        });
        function GetConfigList()
        {
            for (var i = 0; i < configList.length; i++) {
                $("#"+configList[i].wxkey).val(configList[i].wxkeyvalue);
            }
        }
        function init() {
            $("#companybasicform").validate({
                submitHandler: function (form) {

                    form.action ="Update";
                    LG.submitForm(form, function (data, n, r) {
                        if (!data.IsError)// 如果提交成功则隐藏进度条
                        {
                            window.parent.LG.tipSuccess("保存成功");
                            
                        }
                        else {
                            window.parent.LG.tipError("保存成功");
                        }
                    }, function () {

                    });
                }
            });
            $("#webbasicform").validate({
                submitHandler: function (form) {

                    form.action ="Update";
                    LG.submitForm(form, function (data, n, r) {
                        if (!data.IsError)// 如果提交成功则隐藏进度条
                        {
                            window.parent.LG.tipSuccess("保存成功");
                            
                        }
                        else {
                            window.parent.LG.tipError("保存成功");
                        }
                    }, function () {

                    });
                }
            });
            $("#emailbasicform").validate({
                submitHandler: function (form) {

                    form.action ="Update";
                    LG.submitForm(form, function (data, n, r) {
                        if (!data.IsError)// 如果提交成功则隐藏进度条
                        {
                            window.parent.LG.tipSuccess("保存成功");
                            
                        }
                        else {
                            window.parent.LG.tipError("保存成功");
                        }
                    }, function () {

                    });
                }
            });
            $("#statisticalform").validate({
                submitHandler: function (form) {

                    form.action ="Update";
                    LG.submitForm(form, function (data, n, r) {
                        if (!data.IsError)// 如果提交成功则隐藏进度条
                        {
                            window.parent.LG.tipSuccess("保存成功");
                            
                        }
                        else {
                            window.parent.LG.tipError("保存成功");
                        }
                    }, function () {

                    });
                }
            });
        }
    </script>
    <style type="text/css">
    </style>
}

<div class='container-fluid'>

    <div class='row-fluid' id='content-wrapper'>

        <div class='span12'>

            <div class='row-fluid'>

                <div class='span12'>

                    <div class='page-header'>
                        <h1 class='pull-left'>
                            <i class='icon-edit'></i>
                            <span>公众号设置</span>
                        </h1>
                        <div class='pull-right'>
                            <ul class='breadcrumb'>
                                <li>
                                    <a href="index.html"><i class='icon-bar-chart'></i>
                                    </a>
                                </li>
                                <li class='separator'>
                                    <i class='icon-angle-right'></i>
                                </li>
                                <li>Website

                                </li>
                                <li class='separator'>
                                    <i class='icon-angle-right'></i>
                                </li>
                                <li class='active'>Form components</li>
                            </ul>
                        </div>

                    </div>

                </div>
                <div class='row-fluid'>

                    <div class='span12 box' style='margin-bottom: 0'>

                        <div class='box-header purple-background'>

                            <div class='title'>Tabs on top and bottom</div>

                            <div class='actions'>

                                <a href="#" class="btn box-remove btn-mini btn-link"><i class='icon-remove'></i>

                                </a>

                                <a href="#" class="btn box-collapse btn-mini btn-link"><i></i>

                                </a>

                            </div>

                        </div>

                        <div class='box-content'>

                            <div class='row-fluid'>

                                <div class='span12'>

                                    <div class='tabbable'>


                                        <div class='tab-content'>

                                            <div class='tab-pane active' id='tab1'>

                                                <div class='box-content box box-transparent box-nomargin'>
                                                    @using (Ajax.BeginForm("", null, new AjaxOptions()
                                                        {
                                                            Url = "/Admin/WeChatConfig/Save",
                                                            HttpMethod = "post",
                                                            OnSuccess = "Success",
                                                            LoadingElementId = "divMsg",
                                                            OnBegin = "OnBeginSubmit"

                                                        }, new { id = "companybasicform", @class = "form-horizontal" }))
                                                    {

                                                        <div class="control-group">
                                                            <label class="control-label" for="appid">appid：</label>
                                                            <div class="controls">
                                                                <input type="text" id="appid" name="appid" class="form-control" placeholder="" value="">
                                                                <span class="help-inline">注：请管理员在微信开发者模式中查看</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="appsecret">AppSecret：</label>
                                                            <div class="controls">
                                                                <input type="text" id="appsecret" name="appsecret" class="form-control" placeholder="">
                                                                <span class="help-inline">注：请管理员在微信开发者模式中查看</span>

                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="token">Token：</label>
                                                            <div class="controls">
                                                                <input name="token" type="text" id="token" class="form-control">
                                                                <span class="help-inline">注：必须与启用开发者模式所填写的一致</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="weixinnum">公众微信号：</label>
                                                            <div class="controls">
                                                                  <input name="weixinnum" type="text" id="weixinnum" class="form-control">
                                                                    <span class="help-inline">注：您的公众平台微信号</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="mchid">商户号(MchId)：</label>
                                                            <div class="controls">
                                                                <input name="mchid" type="text" id="mchid" class="form-control">
                                                                    <span class="help-inline">注：开通微信支付后，请到微信商户平台中查看</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="apisecret">支付密钥：</label>
                                                            <div class="controls">
                                                                <input name="apisecret" type="text" id="apisecret" class="form-control">
                                                                    <span class="help-inline">注：API密钥，在微信商户平台中“账户设置”~“账户安全”~“设置API密钥”，只能修改不能查看</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="czsuccessid">会员充值模板Id：</label>
                                                            <div class="controls">
                                                                <input name="czsuccessid" type="text" id="czsuccessid" class="form-control">
                                                                    <span class="help-inline">注：用于会员充值成功时，通过微信客户端通知用户</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="orderSuccessid">下单通知模板Id：</label>
                                                            <div class="controls">
                                                                <input name="orderSuccessid" type="text" id="orderSuccessid" class="form-control">
                                                                    <span class="help-inline">注：用于订单提交成功时，通过微信客户端通知用户</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="paySuccessid">支付成功通知模板Id：</label>
                                                            <div class="controls">
                                                                <input name="paySuccessid" type="text" id="paySuccessid" class="form-control">
                                                                    <span class="help-inline">注：用于订单支付成功时，通过微信客户端通知用户</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="postSuccessid">发货通知模板Id：</label>
                                                            <div class="controls">
                                                                <input name="postSuccessid" type="text" id="postSuccessid" class="form-control">
                                                                    <span class="help-inline">注：商家/商户发货时，通过微信客户端通知用户</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="tksuccessid">退款通知模板Id：</label>
                                                            <div class="controls">
                                                                <input name="tksuccessid" type="text" id="tksuccessid" class="form-control">
                                                                    <span class="help-inline">注：退款成功时，通过微信客户端通知用户</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="shareurl">分享域名设置：</label>
                                                            <div class="controls">
                                                                <input name="shareurl" type="text" id="shareurl" class="form-control">
                                                                    <span class="help-inline">注：请填写完整域名，并以‘/’结束</span>
                                                            </div>
                                                        </div>
                                                        <div class="control-group">
                                                            <label class="control-label" for="duokefu">是否开通多客服：</label>
                                                            <div class="controls">
                                                                <select class="form-control">
                                                                    <option value="0">关闭</option>
                                                                    <option value="1">开通</option>
                                                                </select>
                                                                    <span class="help-inline"></span>
                                                            </div>
                                                        </div>
                                                        <div class="form-group form-actions">
                                                            <div class="col-md-9 col-md-offset-3">
                                                                <button type="submit" class="btn btn-sm btn-primary"><i class="fa fa-angle-right"></i>Submit</button>
                                                                <button type="reset" class="btn btn-sm btn-warning"><i class="fa fa-repeat"></i>Reset</button>
                                                            </div>
                                                        </div>
                                                    }

                                                </div>

                                            </div>

                                        </div>

                                    </div>

                                </div>



                            </div>

                        </div>

                    </div>

                </div>
            </div>

        </div>

    </div>
</div>
